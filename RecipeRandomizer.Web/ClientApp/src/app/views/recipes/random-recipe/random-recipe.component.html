<section class="text-center mb-4" id="fortuneWheel">
    <button type="submit" class="btn btn-lg btn-secondary" (click)="getRandomRecipe()" *ngIf="!isFetching; else spinner">
        Spin The Wheel
    </button>
    <ng-template #spinner>
        <app-spinner [withBackdrop]="false"></app-spinner>
    </ng-template>
</section>

<p class="text-center">Select additional filters or leave empty to search the entire database</p>
<ng-select class="custom-ng-select"
           [items]="tagCategories"
           [multiple]="true"
           groupBy="tags"
           [selectableGroup]="true"
           [selectableGroupAsModel]="false"
           [closeOnSelect]="false"
           [(ngModel)]="selectedTags">
    <ng-template ng-optgroup-tmp let-tagCategory="item" let-item$="item$" let-index="index">
        <div class="custom-control custom-checkbox">
            <label for="tag-group-{{index}}" class="sr-only"></label>
            <input type="checkbox" [ngModel]="item$.selected" class="custom-control-input" id="tag-group-{{index}}"/>
            <label class="custom-control-label">{{tagCategory.label | uppercase}}</label>
        </div>
    </ng-template>
    <ng-template ng-option-tmp let-tag="item" let-item$="item$" let-index="index">
        <div class="custom-control custom-checkbox">
            <label for="tag-{{index}}" class="sr-only"></label>
            <input type="checkbox" [ngModel]="item$.selected" class="custom-control-input" id="tag-{{index}}"/>
            <label class="custom-control-label">{{tag.label}}</label>
        </div>
    </ng-template>
</ng-select>
